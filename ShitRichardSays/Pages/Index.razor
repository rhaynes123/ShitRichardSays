@page "/"
@using System.Collections.Generic
@using ShitRichardSays.Data
@inject RecordingService recordingService
@code{
    private Dictionary<string, string> RecordingsList = new Dictionary<string, string>();
    
}
<h1>Hello, world!</h1>
<p>
    Welcome to a website built around the things I say. If you know me, you know that I'm am a very harsh person.
    If your going to be made uncomfortable please feel free to leave my site. Thank and mind your business.
</p>
@if (RecordingsList.Count <= 0)
{
    <button class="btn btn-primary" @onclick="ShowRecordings">Show Shit Richard Says</button>
}
else
{
    <button class="btn btn-primary" @onclick="HideRecordings">Hide Shit Richard Says</button>
}
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Title</th>
            <th>Recording</th>
        </tr>
    </thead>
    <tbody>
   @foreach (var recordings in RecordingsList)
   {
        <tr>
            <td>@recordings.Key</td>
            <td>
                <audio controls>
                    <source src=@recordings.Value type="audio/mp4">
                    Your browser does not support the audio element.
                </audio>
            </td>
        </tr>
    }
    </tbody>
</table>
@code
{
    public void ShowRecordings()
    {
        //var AllRecordings = await recordingService.GetAllRecordings();
        //foreach (var saying in AllRecordings)
        //{
        //    RecordingsList.Add(saying.Title, saying.AudioFile);
        //}

        RecordingsList.Add("Richard Calling Things Stupid", "Recordings/ThisIsStupid.m4a");
        RecordingsList.Add("Richard Saying Fat", "Recordings/RichardSaysFat.m4a");
        RecordingsList.Add("Richard Calling People Dumbasses", "Recordings/Dumbass.m4a");
        RecordingsList.Add("Richard Calling People  Stupid", "Recordings/CallingPeopleIdiots.m4a");

    }
    public void HideRecordings()
    {
        RecordingsList.Clear();
    }
}
